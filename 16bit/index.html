<!DOCTYPE html>
<html lang="ko" dir="ltr" ondragstart="return false" oncontextmenu="return false" onselectstart="return false">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../pccs.css">
  <style media="screen">
  main section {
    width: 27px !important;
    height: 27px !important;
    font-size: 0.7rem;
    overflow: hidden;
  }
  /* main section.main_color {
    width: 28px !important;
    height: 28px !important;
  } */
  </style>
  <title>16bit Square | PCCS Palette</title>
</head>
<body>
  <header id="title">
    <div class="title">PCCS-Palette [16bit]</div>
  </header>
  <main class="square">
    <script type="text/javascript">
    for (var i = 3; i <= 16; i++) {
      document.write("<article>");
      for (var j = 2; j < 16; j++) {
        var i_ = i.toString(16);
        var j_ = j.toString(16);
        document.write('<section id="'+i_+'_'+j_+'" onclick="open_popup(\''+i_+'\',\''+j_+'\')"></section>');
      }
      document.write("</article>");
    }
    </script>
  </main>
  <div id="controler" class="" style="max-width: 30rem;margin: auto;margin-top: 1rem;margin-bottom: 1rem;">
    <div id="upup"><h2>&plus;&plus;</h2></div>
    <div id="up"><h2>&plus;</h2></div>
    <div id="down"><h2>&minus;</h2></div>
    <div id="downdown"><h2>&minus;&minus;</h2></div>
  </div>
  <div id="popup"></div>
  <footer>
    <a href="https://gall.dcinside.com/p_color/78162" target="_blank">→ Reference</a>
  </footer>
  <script type="text/javascript">
    const box_title = document.getElementById('title');
    const box_controler = document.getElementById('controler');
    const box_popup = document.getElementById('popup');

    var hue = parseInt(new URLSearchParams(location.search).get('hue'));
    if (isNaN(hue)) {
      location.search = "?hue=0";
    }
    if (hue > 360) {
      location.search = "?hue=" + (hue - 360);
    }
    if (hue < 0) {
      location.search = "?hue=" + (hue + 360);
    }

    // 색상값 설정

    box_title.style.backgroundColor = "hsl(" + hue + ", 50%, 50%)";
    box_title.style.color = "hsl(" + hue + ", 30%, 70%)";
    box_controler.style.backgroundColor = "hsl(" + hue + ", 50%, 50%)";

    upup.style.backgroundColor = "hsl(" + (hue + 20) + ", 80%, 80%)";
    up.style.backgroundColor = "hsl(" + (hue + 10) + ", 80%, 80%)";
    down.style.backgroundColor = "hsl(" + (hue - 10) + ", 80%, 80%)";
    downdown.style.backgroundColor = "hsl(" + (hue - 20) + ", 80%, 80%)";

    for (var i = 3; i <= 16; i++) {
      for (var j = 2; j < 16; j++) {
        var v_h = i * 6.25;
        var v_l = j * 6.25;
        var h = i.toString(16);
        var l = j.toString(16);
        var target = document.getElementById(h+'_'+l);
        box_popup.innerHTML += "<div id='full_"+h+"_"+l+"' onclick='close_popup(\""+h+"\",\""+l+"\")'></div>";
        target.style.backgroundColor = "hsl("+hue+","+v_h+"%,"+v_l+"%)";
        var target_ = document.getElementById('full_'+h+'_'+l);
        target_.style.backgroundColor = "hsl("+hue+","+v_h+"%,"+v_l+"%)";
        if (j < 8) {
          target.style.color = "white";
          target_.style.color = "white";
        }
      }
    }

    upup.onclick = function() {
      location.search = "?hue=" + (hue + 10);
    }
    up.onclick = function() {
      location.search = "?hue=" + (hue + 5);
    }
    down.onclick = function() {
      location.search = "?hue=" + (hue - 5);
    }
    downdown.onclick = function() {
      location.search = "?hue=" + (hue - 10);
    }

    function open_popup(x,y) {
      document.getElementById('full_'+x+'_'+y).style.display = "flex";
    }
    function close_popup(x,y) {
      document.getElementById('full_'+x+'_'+y).style.display = "none";
    }

    function tag_(s,l,c) {
      document.getElementById(s+'_'+l).innerText = c;
      document.getElementById('full_'+s+'_'+l).innerText = c;
    }

    tag_('4','4','dkg');
    tag_('5','4','dkg');
    tag_('6','4','dkg');
    tag_('7','4','dkg');
    tag_('8','4','dkg');
    tag_('b','4','dk:dkg');
    tag_('c','4','dk:dkg');
    tag_('e','4','dk');
    tag_('f','4','dk');
    tag_('10','4','dk');

    tag_('4','5','g:dkg');
    tag_('5','5','g:dkg');
    tag_('6','5','g:dkg');
    tag_('a','5','d');
    tag_('b','5','d');
    tag_('c','5','d:dk');
    tag_('d','5','d:dk');
    tag_('e','5','dp:dk');
    tag_('f','5','dp:dk');
    tag_('10','5','dp:dk');

    tag_('4','6','g');
    tag_('5','6','g');
    tag_('6','6','g');
    tag_('7','6','g');
    tag_('8','6','d:g');
    tag_('9','6','d');
    tag_('a','6','d');
    tag_('b','6','d');
    tag_('c','6','d:dp');

    tag_('4','7','g');
    tag_('5','7','g');
    tag_('6','7','g');
    tag_('8','7','d:g');
    tag_('9','7','d');
    tag_('a','7','d');
    tag_('c','7','s');
    tag_('d','7','s:dp');
    tag_('e','7','s:dp');
    tag_('10','7','v:dp');

    tag_('4','8','ltg:mg');
    tag_('5','8','ltg:mg');//mg 중복
    tag_('8','8','sf:d');
    tag_('9','8','sf:d');
    tag_('a','8','sf:d');
    tag_('b','8','sf:s:d');
    tag_('f','8','v');
    tag_('10','8','v');

    tag_('4','9','ltg:mg');//mg 중복
    tag_('5','9','ltg:mg');//mg 중복
    tag_('9','9','sf');
    tag_('a','9','sf');
    tag_('b','9','sf:s');
    tag_('c','9','b');
    tag_('d','9','b:s');
    tag_('e','9','b:s');
    tag_('10','9','b:v');

    tag_('8','a','ltg:sf');
    tag_('9','a','sf');
    tag_('a','a','sf');
    tag_('b','a','sf');
    tag_('c','a','sf:b');

    tag_('5','b','ltg');
    tag_('6','b','ltg');
    tag_('7','b','ltg');
    tag_('9','b','ltg:sf');
    tag_('a','b','sf');
    tag_('b','b','sf');
    tag_('c','b','l:sf');
    tag_('e','b','l:b');
    tag_('f','b','l:b');
    tag_('10','b','l:b');

    tag_('5','c','ltg');
    tag_('6','c','ltg');
    tag_('7','c','ltg');
    tag_('8','c','ltg');
    tag_('d','c','l:sf');
    tag_('e','c','l');
    tag_('f','c','l');
    tag_('10','c','l');

    tag_('8','d','p:lg');
    tag_('9','d','p:lg');
    tag_('d','d','p:l');
    tag_('e','d','p:l');

    tag_('9','e','p:lg');
    tag_('b','e','p');
    tag_('c','e','p');
    tag_('d','e','p');
    tag_('e','e','p');
    tag_('f','e','p');
  </script>
</body>
</html>
